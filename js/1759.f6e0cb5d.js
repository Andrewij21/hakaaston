"use strict";(globalThis["webpackChunksim_v1"]=globalThis["webpackChunksim_v1"]||[]).push([[1759],{1759:(a,e,t)=>{t.r(e),t.d(e,{default:()=>H});var l=t(9835),i=t(1957),s=t(6970);const o=a=>((0,l.dD)("data-v-5ce29686"),a=a(),(0,l.Cn)(),a),n={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},d={class:"row q-mt-lg"},r={class:"row col-12 q-mt-md"},m=o((()=>(0,l._)("div",{class:"col-md-4 col-lg-4 col-xs-12"},[(0,l._)("div",{class:"q-table__title"},"Master Data Tenaga Pendidik"),(0,l._)("p",{class:"text-caption"},"Data Tenaga Pendidik yang di lakukan di dalam sistem al hanif.")],-1))),p=o((()=>(0,l._)("span",{class:"rowNumber"},null,-1))),u={key:0,style:{color:"green"}},c={key:1,style:{color:"red"}};function g(a,e,t,o,g,w){const f=(0,l.up)("q-breadcrumbs-el"),h=(0,l.up)("q-breadcrumbs"),k=(0,l.up)("q-card"),b=(0,l.up)("q-space"),_=(0,l.up)("q-btn"),q=(0,l.up)("q-input"),T=(0,l.up)("q-slide-transition"),P=(0,l.up)("q-td"),v=(0,l.up)("q-img"),W=(0,l.up)("q-dialog"),y=(0,l.up)("q-avatar"),N=(0,l.up)("q-item-section"),Z=(0,l.up)("q-item"),$=(0,l.up)("q-tr"),z=(0,l.up)("q-table"),Q=(0,l.up)("q-card-section"),A=(0,l.up)("q-page"),S=(0,l.Q2)("ripple");return(0,l.wg)(),(0,l.j4)(A,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[(0,l.Wm)(k,{class:"my-card q-pa-md",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{label:"Main Menu",icon:"widgets"}),(0,l.Wm)(f,{label:"Asset",icon:"extension"}),(0,l.Wm)(f,{label:"Data Tenaga Pendidik",icon:"task"})])),_:1})])),_:1}),(0,l._)("div",d,[(0,l._)("div",r,[(0,l.Wm)(k,{class:"my-card col",flat:"",bordered:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(Q,{class:"col-12 q-pa-sm"},{default:(0,l.w5)((()=>[(0,l.Wm)(z,{"table-style":"counter-reset: cssRowCounter "+(g.pagination.page-1)*g.pagination.rowsPerPage+";",title:"Master Data Tenaga Pendidik","aria-label":"Text",class:"text-h5",rows:g.rows,flat:"",columns:g.columns,"row-key":"name",filter:g.filter,pagination:g.pagination},{top:(0,l.w5)((()=>[m,(0,l.Wm)(b),(0,l.Wm)(_,{flat:"",round:"",color:"primary",icon:"search",onClick:e[0]||(e[0]=a=>g.visibles=!g.visibles),size:"md",class:"q-mr-sm"}),(0,l.Wm)(T,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l._)("div",null,[(0,l.Wm)(q,{outlined:"",debounce:"300",placeholder:"Placeholder",style:{width:"300px"},color:"primary",modelValue:g.filter,"onUpdate:modelValue":e[1]||(e[1]=a=>g.filter=a),dense:""},null,8,["modelValue"])],512),[[i.F8,g.visibles]])])),_:1}),(0,l.Wm)(_,{dense:"",icon:"add",class:"q-ml-md q-pr-md",color:"blue-13",label:"Tambah Tenaga Pendidik",to:{name:"tenagapendidik_add_pp"},size:"md",outline:""})])),body:(0,l.w5)((e=>[(0,l.Wm)($,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{class:"text-center"},{default:(0,l.w5)((()=>[p])),_:1}),(0,l.Wm)(P,{key:"NoTenagaPendidik",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.NoTenagaPendidik),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"NamaTenagaPendidik",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.NamaTenagaPendidik),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"Jabatan",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.Jabatan),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"TTL",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.TTL),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"JenisKelamin",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.JenisKelamin),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"foto",props:e},{default:(0,l.w5)((()=>[(0,l.wy)(((0,l.wg)(),(0,l.j4)(Z,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(N,{side:""},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{rounded:"",size:"88px"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{src:`${a.$imgUrl}/${e.row.foto}`,onClick:a=>w.tampil(e.row.foto)},null,8,["src","onClick"]),(0,l.Wm)(W,{ref:"dialog"},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(v,{src:`${a.$imgUrl}/${this.fotoTenagaPendidik}`,style:{width:"100%",height:"100%"}},null,8,["src"])])),_:1})])),_:1},512)])),_:2},1024)])),_:2},1024)])),_:2},1024)),[[S]])])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"Alamat",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.Alamat),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"Email",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.Email),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"NoHandphone",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,s.zw)(e.row.NoHandphone),1)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"Status",props:e},{default:(0,l.w5)((()=>["Aktif"==e.row.Status?((0,l.wg)(),(0,l.iD)("div",u,(0,s.zw)(e.row.Status),1)):(0,l.kq)("",!0),"Tidak Aktif"==e.row.Status?((0,l.wg)(),(0,l.iD)("div",c,(0,s.zw)(e.row.Status),1)):(0,l.kq)("",!0)])),_:2},1032,["props"]),(0,l.Wm)(P,{key:"aksi",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{round:"",outline:"",color:"red",onClick:a=>this.delete(e.row._id),size:"sm",icon:"delete","no-caps":"",class:"q-ml-sm"},null,8,["onClick"]),(0,l.Wm)(_,{round:"",outline:"",color:"green",size:"sm",icon:"edit",to:{name:"edit_tenagapendidik_pp",params:{id:e.row._id}},class:"q-ml-sm","no-caps":""},null,8,["to"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["table-style","rows","columns","filter","pagination"])])),_:1})])),_:1})])),_:1})])])])])),_:1})}var w=t(4825),f=t(499);const h={name:"PageIndex",components:{"vue3-autocounter":w.Z},data(){return{card:(0,f.iH)(!1),visibles:!1,fotoTenagaPendidik:"",filter:null,totalHutang:0,totalLunas:0,pagination:{rowsPerPage:10},columns:[{name:"no",label:"No",field:"no"},{name:"NoTenagaPendidik",required:!0,label:"No TenagaPendidik",align:"left",field:"NoTenagaPendidik",sortable:!0},{name:"NamaTenagaPendidik",required:!0,label:"Nama TenagaPendidik",align:"left",field:"NamaTenagaPendidik",sortable:!0},{name:"Jabatan",required:!0,label:"Jabatan",align:"left",field:"Jabatan",sortable:!0},{name:"TTL",required:!0,label:"Tempat, Tanggal Lahir",align:"left",field:"TTL",sortable:!0},{name:"JenisKelamin",required:!0,label:"Jenis Kelamin",align:"left",field:"JenisKelamin",sortable:!0},{name:"foto",required:!0,label:"Foto",align:"left",field:"foto",sortable:!0},{name:"Alamat",required:!0,label:"Alamat",align:"left",field:"Alamat",sortable:!0},{name:"Email",required:!0,label:"Email",align:"left",field:"Email",sortable:!0},{name:"NoHandphone",required:!0,label:"No Handphone",align:"left",field:"NoHandphone",sortable:!0},{name:"Status",required:!0,label:"Status",align:"left",field:"Status",sortable:!0},{name:"aksi",label:"Actions",field:"aksi",align:"center"}],rows:[]}},created(){this.getPembelian()},methods:{getPembelian(){try{this.$api.get("tp_pp/view_asatidz").then((a=>{if(!0!==a.data.status)this.$showNotif(a.data.message,"negative");else{const e=a.data.result;this.rows=e.reverse(),console.log(e)}}))}catch(a){this.$showNotif("Terjadi kesalahan !","negative")}},showDetail(a,e){try{this.$api.get("pengeluaran/detail/"+a).then((a=>{!0!==a.data.status?this.$showNotif(a.data.message,"negative"):(this.detail.rows=a.data.result.map((a=>({_id:a._id,objectIdPegeluaran:a.objectIdPengeluaran,idPengeluaran:a.idPengeluaran,namaBarang:a.namaBarang,hargaBarang:this.$formatPrice(a.hargaBarang),jumlahPengeluaran:a.jumlahPengeluaran,total:this.$formatPrice(a.total)}))),this.detail.grandTotal=e,this.detail.visible=!0)})),this.detail.visible=!0}catch(t){console.log(t),this.$showNotif("Terjadi kesalahan !","negative")}},tampil(a){this.$refs.dialog.show(this.fotoTenagaPendidik=a)},delete(a){this.$dialog.create({title:"Peringatan",message:"Apakah Anda Yakin ?",cancel:!0,persistent:!0}).onOk((()=>{try{this.$api.delete("tp_pp/delete_asatidz/"+a).then((a=>{!0!==a.data.status?this.$showNotif(a.data.message,"negative"):(this.totalLunas=0,this.totalHutang=0,this.getPembelian(),this.$showNotif(a.data.message,"positive"))}))}catch(e){console.log(e),this.$showNotif("Terjadi kesalahan !","negative")}}))}}};var k=t(1639),b=t(9885),_=t(4458),q=t(2605),T=t(8052),P=t(3190),v=t(1463),W=t(136),y=t(8879),N=t(9003),Z=t(3119),$=t(3532),z=t(7220),Q=t(490),A=t(1233),S=t(1357),x=t(335),C=t(2074),U=t(1136),J=t(9984),j=t.n(J);const D=(0,k.Z)(h,[["render",g],["__scopeId","data-v-5ce29686"]]),H=D;j()(h,"components",{QPage:b.Z,QCard:_.Z,QBreadcrumbs:q.Z,QBreadcrumbsEl:T.Z,QCardSection:P.Z,QTable:v.Z,QSpace:W.Z,QBtn:y.Z,QSlideTransition:N.Z,QInput:Z.Z,QTr:$.Z,QTd:z.Z,QItem:Q.Z,QItemSection:A.Z,QAvatar:S.Z,QImg:x.Z,QDialog:C.Z}),j()(h,"directives",{Ripple:U.Z})}}]);
"use strict";(globalThis["webpackChunksim_v1"]=globalThis["webpackChunksim_v1"]||[]).push([[6619],{6619:(e,a,l)=>{l.r(a),l.d(a,{default:()=>se});var t=l(9835),s=l(1957),o=l(6970);const i=e=>((0,t.dD)("data-v-0b553222"),e=e(),(0,t.Cn)(),e),r={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},n={class:"row q-mt-lg"},d={class:"row col-12 q-mt-md"},p=i((()=>(0,t._)("div",{class:"col-md-4 col-lg-4 col-xs-12"},[(0,t._)("div",{class:"q-table__title"},"Master Data santri"),(0,t._)("p",{class:"text-caption"},"Data santri yang di lakukan di dalam sistem al-hanif.")],-1))),m={key:0,class:"row"},u={key:1},c={class:"row"},w={class:"q-mb-sm"},k={class:"row"},f=i((()=>(0,t._)("div",{class:"text-h6"},"Data Santri",-1))),_={class:"row q-gutter-md",style:{width:"100%"}},g={class:"col"},h={key:0,class:"col"},b={key:1,class:"col"},W=i((()=>(0,t._)("div",null,null,-1))),y=i((()=>(0,t._)("span",{class:"rowNumber"},null,-1))),q={key:0,style:{color:"green"}},v={key:1,style:{color:"red"}},z=i((()=>(0,t._)("span",{class:"rowNumber"},null,-1))),K={key:0,style:{color:"green"}},U={key:1,style:{color:"red"}};function $(e,a,l,i,$,C){const D=(0,t.up)("q-breadcrumbs-el"),P=(0,t.up)("q-breadcrumbs"),T=(0,t.up)("q-card"),x=(0,t.up)("q-space"),N=(0,t.up)("q-btn"),Z=(0,t.up)("q-input"),Q=(0,t.up)("q-slide-transition"),S=(0,t.up)("q-card-section"),A=(0,t.up)("q-select"),F=(0,t.up)("q-td"),V=(0,t.up)("q-img"),j=(0,t.up)("q-avatar"),I=(0,t.up)("q-dialog"),L=(0,t.up)("q-item-section"),H=(0,t.up)("q-item"),M=(0,t.up)("q-tr"),O=(0,t.up)("q-table"),E=(0,t.up)("q-page"),J=(0,t.Q2)("close-popup"),B=(0,t.Q2)("ripple");return(0,t.wg)(),(0,t.j4)(E,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,t.w5)((()=>[(0,t._)("div",r,[(0,t.Wm)(T,{class:"my-card q-pa-md",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(D,{label:"Main Menu",icon:"widgets"}),(0,t.Wm)(D,{label:"Santri",icon:"extension"}),(0,t.Wm)(D,{label:"Data Santri",icon:"person"})])),_:1})])),_:1}),(0,t._)("div",n,[(0,t._)("div",d,[(0,t.Wm)(T,{class:"my-card col",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{horizontal:""},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{class:"col-12 q-pa-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{"table-style":"counter-reset: cssRowCounter "+($.pagination.page-1)*$.pagination.rowsPerPage+";",title:"Master Data Customers","aria-label":"Text",class:"text-h5",rows:$.rows,flat:"",columns:$.columns,"row-key":"name",filter:$.filter,pagination:$.pagination},{top:(0,t.w5)((()=>[p,(0,t.Wm)(x),e.$q.screen.md||e.$q.screen.xl||e.$q.screen.lg?((0,t.wg)(),(0,t.iD)("div",m,[(0,t.Wm)(N,{flat:"",round:"",color:"primary",icon:"search",onClick:a[0]||(a[0]=e=>$.visibles=!$.visibles),size:"md",class:"q-mr-sm"}),(0,t.Wm)(Q,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",null,[(0,t.Wm)(Z,{outlined:"",debounce:"300",placeholder:"Placeholder",style:{width:"200px"},color:"primary",modelValue:$.filter,"onUpdate:modelValue":a[1]||(a[1]=e=>$.filter=e),dense:""},null,8,["modelValue"])],512),[[s.F8,$.visibles]])])),_:1}),(0,t.Wm)(N,{dense:"",icon:"print",class:"q-ml-md q-pr-md",color:"blue-13",label:"Cetak Santri",onClick:a[2]||(a[2]=e=>$.icon=!0),size:"md",outline:""})])):(0,t.kq)("",!0),e.$q.screen.xs||e.$q.screen.sm?((0,t.wg)(),(0,t.iD)("div",u,[(0,t._)("div",c,[(0,t.Wm)(N,{flat:"",round:"",color:"primary",icon:"search",onClick:a[3]||(a[3]=e=>$.visibles=!$.visibles),size:"md",class:"q-mr-sm"}),(0,t.Wm)(Q,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",null,[(0,t.Wm)(Z,{outlined:"",debounce:"300",placeholder:"Placeholder",style:{width:"200px"},color:"primary",modelValue:$.filter,"onUpdate:modelValue":a[4]||(a[4]=e=>$.filter=e),dense:""},null,8,["modelValue"])],512),[[s.F8,$.visibles]])])),_:1})]),(0,t._)("div",w,[(0,t._)("div",k,[(0,t.Wm)(N,{dense:"",icon:"print",class:"q-ml-md q-pr-md",color:"blue-13",label:"Cetak Santri",onClick:a[5]||(a[5]=e=>$.icon=!0),size:"md",outline:""})])])])):(0,t.kq)("",!0),(0,t.Wm)(I,{modelValue:$.icon,"onUpdate:modelValue":a[9]||(a[9]=e=>$.icon=e)},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{class:"my-cardd"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{class:"row items-center q-pb-none"},{default:(0,t.w5)((()=>[f,(0,t.Wm)(x),(0,t.wy)((0,t.Wm)(N,{icon:"close",flat:"",round:"",dense:""},null,512),[[J]])])),_:1}),(0,t.Wm)(S,null,{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(O,{"table-style":"counter-reset: cssRowCounter "+($.pagination.page-1)*$.pagination.rowsPerPage+";",pagination:$.pagination,title:"Master Data Pengeluaran","aria-label":"Text",class:"text-h5",rows:$.rowsFilter,flat:"",columns:$.columns,"row-key":"name",filter:$.filter},{top:(0,t.w5)((()=>[(0,t._)("div",_,[(0,t._)("div",g,[(0,t.Wm)(A,{filled:"",options:$.opsiKelas,modelValue:$.kelass,"onUpdate:modelValue":a[6]||(a[6]=e=>$.kelass=e),label:"Pilih Kelass","stack-label":"",dense:""},null,8,["options","modelValue"])]),null!=$.kelass?((0,t.wg)(),(0,t.iD)("div",h,[(0,t.Wm)(N,{dense:"",icon:"search",class:"q-ml-md q-pr-md",color:"blue-13",label:"Cari",onClick:a[7]||(a[7]=e=>C.applyFilter()),size:"md",outline:""})])):(0,t.kq)("",!0),0!=this.rowsFilter.length?((0,t.wg)(),(0,t.iD)("div",b,[(0,t.Wm)(N,{dense:"",icon:"print",color:"blue-13",size:"md",onClick:a[8]||(a[8]=e=>C.exportFile()),outline:""})])):(0,t.kq)("",!0)]),W])),body:(0,t.w5)((a=>[(0,t.Wm)(M,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{class:"text-center"},{default:(0,t.w5)((()=>[y])),_:1}),(0,t.Wm)(F,{key:"id_santri",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.id_santri),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Nama santri",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.nama),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kelas",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kelas),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Tempat Tanggal Lahir",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.ttl),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"JenisKelamin",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.jenis_kelamin),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Alamat",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.alamat),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kelurahan / Desa",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kelurahan_desa),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kecamatan",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kecamatan),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kota / Kabupaten",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kota_kabupaten),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Provinsi",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.provinsi),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kode POS",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kode_pos),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"email",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.email),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"no_telp",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.no_telp),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"golongan_darah",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.golongan_darah),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"foto",props:a},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(H,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{rounded:"",size:"88px"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{src:`${e.$imgUrl}/${a.row.foto}`,onClick:e=>C.tampil(a.row.foto)},null,8,["src","onClick"])])),_:2},1024),(0,t.Wm)(I,{ref:"dialog"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{src:`${e.$imgUrl}/${$.fotoDiri}`,style:{width:"100%",height:"100%"}},null,8,["src"])])),_:1})])),_:1},512)])),_:2},1024)])),_:2},1024)),[[B]])])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"status",props:a},{default:(0,t.w5)((()=>["Aktif"==a.row.status?((0,t.wg)(),(0,t.iD)("div",q,(0,o.zw)(a.row.status),1)):(0,t.kq)("",!0),"Tidak Aktif"==a.row.status?((0,t.wg)(),(0,t.iD)("div",v,(0,o.zw)(a.row.status),1)):(0,t.kq)("",!0)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"aksi",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(N,{round:"",outline:"",color:"red",icon:"delete",onClick:e=>this.delete(a.row._id),"no-caps":"",class:"q-ml-sm"},null,8,["onClick"]),(0,t.Wm)(N,{round:"",outline:"",color:"green",icon:"edit",to:{name:"edit_santri",params:{id:a.row._id}},class:"q-ml-sm","no-caps":""},null,8,["to"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["table-style","pagination","rows","columns","filter"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(N,{dense:"",icon:"add",class:"q-ml-md q-pr-md q-pa-sm",color:"blue-13",label:"Tambah santri",to:{name:"santri_add"},size:"md",outline:""})])),body:(0,t.w5)((a=>[(0,t.Wm)(M,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{class:"text-center"},{default:(0,t.w5)((()=>[z])),_:1}),(0,t.Wm)(F,{key:"id_santri",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.id_santri),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Nama santri",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.nama),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kelas",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kelas),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Tempat Tanggal Lahir",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.ttl),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"JenisKelamin",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.jenis_kelamin),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Alamat",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.alamat),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kelurahan / Desa",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kelurahan_desa),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kecamatan",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kecamatan),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kota / Kabupaten",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kota_kabupaten),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Provinsi",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.provinsi),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"Kode POS",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.kode_pos),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"email",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.email),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"no_telp",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.no_telp),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"golongan_darah",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,o.zw)(a.row.golongan_darah),1)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"foto",props:a},{default:(0,t.w5)((()=>[(0,t.wy)(((0,t.wg)(),(0,t.j4)(H,{clickable:""},{default:(0,t.w5)((()=>[(0,t.Wm)(L,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(j,{rounded:"",size:"88px"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{src:`${e.$imgUrl}/${a.row.foto}`,onClick:e=>C.tampil(a.row.foto)},null,8,["src","onClick"])])),_:2},1024),(0,t.Wm)(I,{ref:"dialog"},{default:(0,t.w5)((()=>[(0,t.Wm)(T,{class:"my-card"},{default:(0,t.w5)((()=>[(0,t.Wm)(V,{src:`${e.$imgUrl}/${$.fotoDiri}`,style:{width:"100%",height:"100%"}},null,8,["src"])])),_:1})])),_:1},512)])),_:2},1024)])),_:2},1024)),[[B]])])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"status",props:a},{default:(0,t.w5)((()=>["Aktif"==a.row.status?((0,t.wg)(),(0,t.iD)("div",K,(0,o.zw)(a.row.status),1)):(0,t.kq)("",!0),"Tidak Aktif"==a.row.status?((0,t.wg)(),(0,t.iD)("div",U,(0,o.zw)(a.row.status),1)):(0,t.kq)("",!0)])),_:2},1032,["props"]),(0,t.Wm)(F,{key:"aksi",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(N,{round:"",outline:"",color:"red",icon:"delete",onClick:e=>this.delete(a.row._id),"no-caps":"",class:"q-ml-sm"},null,8,["onClick"]),(0,t.Wm)(N,{round:"",outline:"",color:"green",icon:"edit",to:{name:"edit_santri",params:{id:a.row._id}},class:"q-ml-sm","no-caps":""},null,8,["to"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["table-style","rows","columns","filter","pagination"])])),_:1})])),_:1})])),_:1})])])])])),_:1})}l(9665);var C=l(499),D=l(9431),P=l.n(D),T=l(9536);const x={name:"PageIndex",data(){return{card:(0,C.iH)(!1),pagination:{rowsPerPage:10},options:[],icon:!1,kelass:null,namaCustomer:[],fotoDiri:null,visibles:!1,filter:null,totalHutang:0,totalLunas:0,columns:[{name:"no",label:"No",field:"no"},{name:"id_santri",required:!0,label:"ID santri",align:"left",field:"id_santri",sortable:!0},{name:"Nama santri",required:!0,label:"Nama santri",align:"left",field:"nama",sortable:!0},{name:"Kelas",required:!0,label:"Kelas",align:"left",field:"kelas",sortable:!0},{name:"Tempat Tanggal Lahir",required:!0,label:"Tempat Tanggal Lahir",align:"left",field:"ttl",sortable:!0},{name:"JenisKelamin",required:!0,label:"Jenis Kelamin",align:"left",field:"jenis_kelamin",sortable:!0},{name:"Alamat",required:!0,label:"Alamat",align:"left",field:"alamat",sortable:!0},{name:"Kelurahan / Desa",required:!0,label:"Kelurahan / Desa",align:"left",field:"kelurahan_desa",sortable:!0},{name:"Kecamatan",required:!0,label:"Kecamatan",align:"left",field:"kecamatan",sortable:!0},{name:"Kota / Kabupaten",required:!0,label:"Kota / Kabupaten",align:"left",field:"kota_kabupaten",sortable:!0},{name:"Provinsi",required:!0,label:"Provinsi",align:"left",field:"provinsi",sortable:!0},{name:"Kode POS",required:!0,label:"Kode POS",align:"left",field:"kode_pos",sortable:!0},{name:"email",required:!0,label:"Email",align:"left",field:"email",sortable:!0},{name:"no_telp",required:!0,label:"No. Telp / HP",align:"left",field:"no_telp",sortable:!0},{name:"golongan_darah",required:!0,label:"Golongan Darah",align:"left",field:"golongan_darah",sortable:!0},{name:"foto",required:!0,label:"Foto KTP",align:"left",field:"foto",sortable:!0},{name:"status",required:!0,label:"Status",align:"left",field:"status",sortable:!0},{name:"aksi",label:"Actions",field:"aksi",align:"center"}],rows:[],rowsFilter:[],opsiKelas:[]}},created(){this.getCustomer(),this.getKelas()},methods:{getCustomer(){try{this.$api.get("santri_pp/view_santri").then((e=>{if(!0!==e.data.status)this.$showNotif(e.data.message,"negative");else{const a=e.data.result;this.rows=a.reverse(),this.options=e.data.result}}))}catch(e){this.$showNotif("Terjadi kesalahan !","negative")}},applyFilter(){try{this.$api.get("santri_pp/view_santri_kelas/"+this.kelass).then((e=>{if(!0!==e.data.status)this.$showNotif(e.data.message,"negative");else{const a=e.data.result;console.log(a),this.rowsFilter=a.reverse()}}))}catch(e){this.$showNotif("Terjadi kesalahan !","negative")}},exportFile(){let e=new T["default"]("l"),a=1,l=[];const t=this.rowsFilter;e.text("Data Santri Pondok Pesantren Al Hanif",80,10),t.forEach(((e,t,s)=>{l.push([a++,e.id_santri,e.nama,e.kelas,e.jenis_kelamin,e.ttl,e.alamat,e.email,e.no_telp,e.status])})),P()(e,{head:[["No","ID Santri","Nama","Kelas","Gender","TTL","Alamat","Email","No HP","Status"]],body:l}),e.save("data-santri-ponpes.pdf")},getKelas(){try{this.$api.get("kelas_pp/view_kelas").then((e=>{if(!0!==e.data.status)this.$showNotif(e.data.message,"negative");else{const a=e.data.result;this.opsiKelas=a.map((e=>(console.log(this.opsiKelas),e.NamaKelas)))}}))}catch(e){this.$showNotif("Terjadi kesalahan !","negative")}},tampil(e){this.$refs.dialog.show(this.fotoDiri=e)},delete(e){this.$dialog.create({title:"Peringatan",message:"Apakah Anda Yakin ?",cancel:!0,persistent:!0}).onOk((()=>{try{this.$api.delete("/santri_pp/delete_santri/"+e).then((e=>{!0!==e.data.status?this.$showNotif(e.data.message,"negative"):(this.getCustomer(),this.$showNotif(e.data.message,"positive"))}))}catch(a){console.log(a),this.$showNotif("Terjadi kesalahan !","negative")}}))}}};var N=l(1639),Z=l(9885),Q=l(4458),S=l(2605),A=l(8052),F=l(3190),V=l(1463),j=l(136),I=l(8879),L=l(9003),H=l(3119),M=l(2074),O=l(6384),E=l(3532),J=l(7220),B=l(490),R=l(1233),G=l(1357),Y=l(335),X=l(2146),ee=l(1136),ae=l(9984),le=l.n(ae);const te=(0,N.Z)(x,[["render",$],["__scopeId","data-v-0b553222"]]),se=te;le()(x,"components",{QPage:Z.Z,QCard:Q.Z,QBreadcrumbs:S.Z,QBreadcrumbsEl:A.Z,QCardSection:F.Z,QTable:V.Z,QSpace:j.Z,QBtn:I.Z,QSlideTransition:L.Z,QInput:H.Z,QDialog:M.Z,QSelect:O.Z,QTr:E.Z,QTd:J.Z,QItem:B.Z,QItemSection:R.Z,QAvatar:G.Z,QImg:Y.Z}),le()(x,"directives",{ClosePopup:X.Z,Ripple:ee.Z})}}]);
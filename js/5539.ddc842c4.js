"use strict";(globalThis["webpackChunksim_v1"]=globalThis["webpackChunksim_v1"]||[]).push([[5539],{5539:(a,e,l)=>{l.r(e),l.d(e,{default:()=>ea});var s=l(9835),t=l(1957),o=l(6970);const i=a=>((0,s.dD)("data-v-4ccfe840"),a=a(),(0,s.Cn)(),a),r={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},n={class:"row q-mt-lg"},d={class:"row col-12 q-mt-md"},m=i((()=>(0,s._)("div",{class:"col-md-4 col-lg-4 col-xs-12"},[(0,s._)("div",{class:"q-table__title"},"Master Data Siswa"),(0,s._)("p",{class:"text-caption"},"Data Siswa yang di lakukan di dalam sistem al hanif.")],-1))),p={key:0,class:"row"},u={key:1},w={class:"row"},c={class:"q-mb-sm"},f={class:"row"},h=i((()=>(0,s._)("div",{class:"text-h6"},"Data Jamaah",-1))),k={class:"row q-gutter-md",style:{width:"100%"}},g={class:"col"},b={key:0,class:"col"},_={key:1,class:"col"},y=i((()=>(0,s._)("div",null,null,-1))),W=i((()=>(0,s._)("span",{class:"rowNumber"},null,-1))),q=i((()=>(0,s._)("span",{class:"rowNumber"},null,-1)));function v(a,e,l,i,v,N){const S=(0,s.up)("q-breadcrumbs-el"),P=(0,s.up)("q-breadcrumbs"),z=(0,s.up)("q-card"),$=(0,s.up)("q-space"),T=(0,s.up)("q-btn"),U=(0,s.up)("q-input"),A=(0,s.up)("q-slide-transition"),j=(0,s.up)("q-card-section"),K=(0,s.up)("q-select"),C=(0,s.up)("q-td"),I=(0,s.up)("q-img"),Z=(0,s.up)("q-avatar"),x=(0,s.up)("q-dialog"),Q=(0,s.up)("q-item-section"),D=(0,s.up)("q-item"),F=(0,s.up)("q-tr"),H=(0,s.up)("q-table"),V=(0,s.up)("q-page"),L=(0,s.Q2)("close-popup"),J=(0,s.Q2)("ripple");return(0,s.wg)(),(0,s.j4)(V,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,s.w5)((()=>[(0,s._)("div",r,[(0,s.Wm)(z,{class:"my-card q-pa-md",flat:"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(P,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,s.w5)((()=>[(0,s.Wm)(S,{label:"Main Menu",icon:"widgets"}),(0,s.Wm)(S,{label:"Asset",icon:"extension"}),(0,s.Wm)(S,{label:"Data Siswa",icon:"task"})])),_:1})])),_:1}),(0,s._)("div",n,[(0,s._)("div",d,[(0,s.Wm)(z,{class:"my-card col",flat:"",bordered:""},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{horizontal:""},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{class:"col-12 q-pa-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(H,{"table-style":"counter-reset: cssRowCounter "+(v.pagination.page-1)*v.pagination.rowsPerPage+";",title:"Master Data Siswa","aria-label":"Text",class:"text-h5",rows:v.rows,flat:"",columns:v.columns,"row-key":"name",filter:v.filter,pagination:v.pagination},{top:(0,s.w5)((()=>[m,(0,s.Wm)($),a.$q.screen.md||a.$q.screen.xl||a.$q.screen.lg?((0,s.wg)(),(0,s.iD)("div",p,[(0,s.Wm)(T,{flat:"",round:"",color:"primary",icon:"search",onClick:e[0]||(e[0]=a=>v.visibles=!v.visibles),size:"md",class:"q-mr-sm"}),(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",null,[(0,s.Wm)(U,{outlined:"",debounce:"300",placeholder:"Placeholder",style:{width:"200px"},color:"primary",modelValue:v.filter,"onUpdate:modelValue":e[1]||(e[1]=a=>v.filter=a),dense:""},null,8,["modelValue"])],512),[[t.F8,v.visibles]])])),_:1}),(0,s.Wm)(T,{dense:"",icon:"print",class:"q-ml-md q-pr-md",color:"blue-13",label:"Cetak Siswa",onClick:e[2]||(e[2]=a=>v.icon=!0),size:"md",outline:""})])):(0,s.kq)("",!0),a.$q.screen.xs||a.$q.screen.sm?((0,s.wg)(),(0,s.iD)("div",u,[(0,s._)("div",w,[(0,s.Wm)(T,{flat:"",round:"",color:"primary",icon:"search",onClick:e[3]||(e[3]=a=>v.visibles=!v.visibles),size:"md",class:"q-mr-sm"}),(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("div",null,[(0,s.Wm)(U,{outlined:"",debounce:"300",placeholder:"Placeholder",style:{width:"200px"},color:"primary",modelValue:v.filter,"onUpdate:modelValue":e[4]||(e[4]=a=>v.filter=a),dense:""},null,8,["modelValue"])],512),[[t.F8,v.visibles]])])),_:1})]),(0,s._)("div",c,[(0,s._)("div",f,[(0,s.Wm)(T,{dense:"",icon:"print",class:"q-ml-md q-pr-md",color:"blue-13",label:"Cetak Siswa",onClick:e[5]||(e[5]=a=>v.icon=!0),size:"md",outline:""})])])])):(0,s.kq)("",!0),(0,s.Wm)(x,{modelValue:v.icon,"onUpdate:modelValue":e[9]||(e[9]=a=>v.icon=a)},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{class:"my-cardd"},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{class:"row items-center q-pb-none"},{default:(0,s.w5)((()=>[h,(0,s.Wm)($),(0,s.wy)((0,s.Wm)(T,{icon:"close",flat:"",round:"",dense:""},null,512),[[L]])])),_:1}),(0,s.Wm)(j,null,{default:(0,s.w5)((()=>[(0,s._)("div",null,[(0,s.Wm)(H,{"table-style":"counter-reset: cssRowCounter "+(v.pagination.page-1)*v.pagination.rowsPerPage+";",pagination:v.pagination,title:"Master Data Pengeluaran","aria-label":"Text",class:"text-h5",rows:v.rowsFilter,flat:"",columns:v.columns,"row-key":"name",filter:v.filter},{top:(0,s.w5)((()=>[(0,s._)("div",k,[(0,s._)("div",g,[(0,s.Wm)(K,{filled:"",options:v.opsiKelas,modelValue:v.kelass,"onUpdate:modelValue":e[6]||(e[6]=a=>v.kelass=a),label:"Pilih Kelass","stack-label":"",dense:""},null,8,["options","modelValue"])]),null!=v.kelass?((0,s.wg)(),(0,s.iD)("div",b,[(0,s.Wm)(T,{dense:"",icon:"search",class:"q-ml-md q-pr-md",color:"blue-13",label:"Cari",onClick:e[7]||(e[7]=a=>N.applyFilter()),size:"md",outline:""})])):(0,s.kq)("",!0),0!=this.rowsFilter.length?((0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(T,{dense:"",icon:"print",color:"blue-13",size:"md",onClick:e[8]||(e[8]=a=>N.exportFile()),outline:""})])):(0,s.kq)("",!0)]),y])),body:(0,s.w5)((e=>[(0,s.Wm)(F,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[W])),_:1}),(0,s.Wm)(C,{key:"NoSiswa",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NoSiswa),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NamaSiswa",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NamaSiswa),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"Kelas",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.Kelas),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"TTL",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.TTL),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"JenisKelamin",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.JenisKelamin),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"foto",props:e},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(D,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{rounded:"",size:"88px"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{src:`${a.$imgUrl}/${e.row.foto}`,onClick:a=>N.tampil(e.row.foto)},null,8,["src","onClick"])])),_:2},1024),(0,s.Wm)(x,{ref:"dialog"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{src:`${a.$imgUrl}/${this.fotoSiswa}`,style:{width:"100%",height:"100%"}},null,8,["src"])])),_:1})])),_:1},512)])),_:2},1024)])),_:2},1024)),[[J]])])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"Alamat",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.Alamat),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NamaAyah",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NamaAyah),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"PekerjaanAyah",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.PekerjaanAyah),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NamaIbu",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NamaIbu),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"PekerjaanIbu",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.PekerjaanIbu),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NoHandphone",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NoHandphone),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"Status",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.Status),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"aksi",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{round:"",outline:"",color:"red",onClick:a=>this.delete(e.row._id),size:"sm",icon:"delete","no-caps":"",class:"q-ml-sm"},null,8,["onClick"]),(0,s.Wm)(T,{round:"",outline:"",color:"green",size:"sm",icon:"edit",to:{name:"edit_siswa_tk",params:{id:e.row._id}},class:"q-ml-sm","no-caps":""},null,8,["to"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["table-style","pagination","rows","columns","filter"])])])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,s.Wm)(T,{dense:"",icon:"add",class:"q-ml-md q-pr-md q-pa-sm",color:"blue-13",label:"Tambah Siswa",to:{name:"siswa_tk_add"},size:"md",outline:""})])),body:(0,s.w5)((e=>[(0,s.Wm)(F,{props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{class:"text-center"},{default:(0,s.w5)((()=>[q])),_:1}),(0,s.Wm)(C,{key:"NoSiswa",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NoSiswa),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NamaSiswa",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NamaSiswa),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"Kelas",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.Kelas),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"TTL",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.TTL),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"JenisKelamin",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.JenisKelamin),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"foto",props:e},{default:(0,s.w5)((()=>[(0,s.wy)(((0,s.wg)(),(0,s.j4)(D,{clickable:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Q,{side:""},{default:(0,s.w5)((()=>[(0,s.Wm)(Z,{rounded:"",size:"88px"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{src:`${a.$imgUrl}/${e.row.foto}`,onClick:a=>N.tampil(e.row.foto)},null,8,["src","onClick"])])),_:2},1024),(0,s.Wm)(x,{ref:"dialog"},{default:(0,s.w5)((()=>[(0,s.Wm)(z,{class:"my-card"},{default:(0,s.w5)((()=>[(0,s.Wm)(I,{src:`${a.$imgUrl}/${this.fotoSiswa}`,style:{width:"100%",height:"100%"}},null,8,["src"])])),_:1})])),_:1},512)])),_:2},1024)])),_:2},1024)),[[J]])])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"Alamat",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.Alamat),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NamaAyah",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NamaAyah),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"PekerjaanAyah",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.PekerjaanAyah),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NamaIbu",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NamaIbu),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"PekerjaanIbu",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.PekerjaanIbu),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"NoHandphone",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.NoHandphone),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"Status",props:e},{default:(0,s.w5)((()=>[(0,s.Uk)((0,o.zw)(e.row.Status),1)])),_:2},1032,["props"]),(0,s.Wm)(C,{key:"aksi",props:e},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{round:"",outline:"",color:"red",onClick:a=>this.delete(e.row._id),size:"sm",icon:"delete","no-caps":"",class:"q-ml-sm"},null,8,["onClick"]),(0,s.Wm)(T,{round:"",outline:"",color:"green",size:"sm",icon:"edit",to:{name:"edit_siswa_tk",params:{id:e.row._id}},class:"q-ml-sm","no-caps":""},null,8,["to"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["table-style","rows","columns","filter","pagination"])])),_:1})])),_:1})])),_:1})])])])])),_:1})}l(9665);var N=l(4825),S=l(9431),P=l.n(S),z=l(9536);const $={name:"PageIndex",components:{"vue3-autocounter":N.Z},data(){return{visibles:!1,fotoSiswa:null,filter:null,totalHutang:0,totalLunas:0,icon:!1,kelass:null,pagination:{rowsPerPage:10},columns:[{name:"no",label:"No",field:"no"},{name:"NoSiswa",required:!0,label:"No Siswa",align:"left",field:"NoSiswa",sortable:!0},{name:"NamaSiswa",required:!0,label:"Nama Siswa",align:"left",field:"NamaSiswa",sortable:!0},{name:"Kelas",required:!0,label:"Kelas",align:"left",field:"Kelas",sortable:!0},{name:"TTL",required:!0,label:"Tempat, Tanggal Lahir",align:"left",field:"TTL",sortable:!0},{name:"JenisKelamin",required:!0,label:"Jenis Kelamin",align:"left",field:"Jenis Kelamin",sortable:!0},{name:"foto",required:!0,label:"Foto",align:"left",field:"foto",sortable:!0},{name:"Alamat",required:!0,label:"Alamat",align:"left",field:"Alamat",sortable:!0},{name:"NamaAyah",required:!0,label:"Nama Ayah",align:"left",field:"NamaAyah",sortable:!0},{name:"PekerjaanAyah",required:!0,label:"Pekerjaan Ayah",align:"left",field:"Pekerjaan Ayah",sortable:!0},{name:"NamaIbu",required:!0,label:"Nama Ibu",align:"left",field:"NamaIbu",sortable:!0},{name:"PekerjaanIbu",required:!0,label:"Pekerjaan Ibu",align:"left",field:"PekerjaanIbu",sortable:!0},{name:"NoHandphone",required:!0,label:"No Handphone",align:"left",field:"NoHandphone",sortable:!0},{name:"Status",required:!0,label:"Status",align:"left",field:"Status",sortable:!0},{name:"aksi",label:"Actions",field:"aksi",align:"center"}],rows:[],rowsFilter:[],opsiKelas:[]}},created(){this.getPembelian(),this.getKelas()},methods:{getPembelian(){try{this.$api.get("siswa_tk/view_siswa").then((a=>{if(!0!==a.data.status)this.$showNotif(a.data.message,"negative");else{const e=a.data.result;this.rows=e.reverse()}}))}catch(a){this.$showNotif("Terjadi kesalahan !","negative")}},applyFilter(){try{this.$api.get("siswa_tk/view_siswa_kelas/"+this.kelass).then((a=>{if(!0!==a.data.status)this.$showNotif(a.data.message,"negative");else{const e=a.data.result;console.log(e),this.rowsFilter=e.reverse()}}))}catch(a){this.$showNotif("Terjadi kesalahan !","negative")}},exportFile(){let a=new z["default"]("l"),e=1,l=[];const s=this.rowsFilter;a.text("Data Siswa TK Al Hanif",110,10),s.forEach(((a,s,t)=>{l.push([e++,a.NoSiswa,a.NamaSiswa,a.Kelas,a.JenisKelamin,a.TTL,a.Alamat,a.NoHandphone,a.Status])})),P()(a,{head:[["No","No Siswa","Nama Siswa","Kelas","Gender","TTL","Alamat","No HP","Status"]],body:l}),a.save("data-siswa-tk.pdf")},getKelas(){try{this.$api.get("kelas_tkk/view_kelas").then((a=>{if(!0!==a.data.status)this.$showNotif(a.data.message,"negative");else{const e=a.data.result;this.opsiKelas=e.map((a=>(console.log(this.opsiKelas),a.NamaKelas)))}}))}catch(a){this.$showNotif("Terjadi kesalahan !","negative")}},showDetail(a,e){try{this.$api.get("pengeluaran/detail/"+a).then((a=>{!0!==a.data.status?this.$showNotif(a.data.message,"negative"):(this.detail.rows=a.data.result.map((a=>({_id:a._id,objectIdPegeluaran:a.objectIdPengeluaran,idPengeluaran:a.idPengeluaran,namaBarang:a.namaBarang,hargaBarang:this.$formatPrice(a.hargaBarang),jumlahPengeluaran:a.jumlahPengeluaran,total:this.$formatPrice(a.total)}))),this.detail.grandTotal=e,this.detail.visible=!0)})),this.detail.visible=!0}catch(l){console.log(l),this.$showNotif("Terjadi kesalahan !","negative")}},tampil(a){this.$refs.dialog.show(this.fotoSiswa=a)},delete(a){this.$dialog.create({title:"Peringatan",message:"Apakah Anda Yakin ?",cancel:!0,persistent:!0}).onOk((()=>{try{this.$api.delete("siswa_tk/delete_siswa/"+a).then((a=>{!0!==a.data.status?this.$showNotif(a.data.message,"negative"):(this.totalLunas=0,this.totalHutang=0,this.getPembelian(),this.$showNotif(a.data.message,"positive"))}))}catch(e){console.log(e),this.$showNotif("Terjadi kesalahan !","negative")}}))}}};var T=l(1639),U=l(9885),A=l(4458),j=l(2605),K=l(8052),C=l(3190),I=l(2857),Z=l(1463),x=l(136),Q=l(8879),D=l(9003),F=l(3119),H=l(2074),V=l(6384),L=l(3532),J=l(7220),B=l(490),M=l(1233),R=l(1357),E=l(335),G=l(2146),O=l(1136),Y=l(9984),X=l.n(Y);const aa=(0,T.Z)($,[["render",v],["__scopeId","data-v-4ccfe840"]]),ea=aa;X()($,"components",{QPage:U.Z,QCard:A.Z,QBreadcrumbs:j.Z,QBreadcrumbsEl:K.Z,QCardSection:C.Z,QIcon:I.Z,QTable:Z.Z,QSpace:x.Z,QBtn:Q.Z,QSlideTransition:D.Z,QInput:F.Z,QDialog:H.Z,QSelect:V.Z,QTr:L.Z,QTd:J.Z,QItem:B.Z,QItemSection:M.Z,QAvatar:R.Z,QImg:E.Z}),X()($,"directives",{ClosePopup:G.Z,Ripple:O.Z})}}]);
"use strict";(globalThis["webpackChunksim_v1"]=globalThis["webpackChunksim_v1"]||[]).push([[3673],{3673:(a,e,l)=>{l.r(e),l.d(e,{default:()=>S});var t=l(9835),s=l(1957),i=l(6970);const r=a=>((0,t.dD)("data-v-2420ae00"),a=a(),(0,t.Cn)(),a),n={class:"col col-lg-12 col-md-6 col-sm-8 col-xs-10 q-pt-md"},o={class:"row q-mt-lg"},d={class:"row col-12 q-mt-md"},m=r((()=>(0,t._)("div",{class:"col-md-4 col-lg-4 col-xs-12"},[(0,t._)("div",{class:"q-table__title"},"Master Data Asset"),(0,t._)("p",{class:"text-caption"},"Data Asset yang di lakukan di dalam sistem al-hanif.")],-1))),u=r((()=>(0,t._)("span",{class:"rowNumber"},null,-1))),c=r((()=>(0,t._)("div",{class:"text-h6"},"#Detail Pengeluaran Barang",-1))),p={class:"text-caption q-ml-md"},g={class:"text-h8 q-ml-md"},f=r((()=>(0,t._)("b",null,"Grand Total - ",-1)));function w(a,e,l,r,w,h){const b=(0,t.up)("q-breadcrumbs-el"),_=(0,t.up)("q-breadcrumbs"),q=(0,t.up)("q-card"),k=(0,t.up)("q-space"),v=(0,t.up)("q-btn"),W=(0,t.up)("q-input"),A=(0,t.up)("q-slide-transition"),P=(0,t.up)("q-td"),T=(0,t.up)("q-tr"),y=(0,t.up)("q-table"),Z=(0,t.up)("q-card-section"),Q=(0,t.up)("q-separator"),$=(0,t.up)("q-card-actions"),z=(0,t.up)("q-dialog"),B=(0,t.up)("q-page"),x=(0,t.Q2)("close-popup");return(0,t.wg)(),(0,t.j4)(B,{class:"q-pr-md q-pl-md q-pa-md"},{default:(0,t.w5)((()=>[(0,t._)("div",n,[(0,t.Wm)(q,{class:"my-card q-pa-md",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(_,{separator:"---",class:"text-blue-10","active-color":"secondary"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{label:"Main Menu",icon:"widgets"}),(0,t.Wm)(b,{label:"Asset",icon:"extension"}),(0,t.Wm)(b,{label:"Data Asset",icon:"task"})])),_:1})])),_:1}),(0,t._)("div",o,[(0,t._)("div",d,[(0,t.Wm)(q,{class:"my-card col",flat:"",bordered:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{horizontal:""},{default:(0,t.w5)((()=>[(0,t.Wm)(Z,{class:"col-12 q-pa-sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{"table-style":"counter-reset: cssRowCounter "+(w.pagination.page-1)*w.pagination.rowsPerPage+";",title:"Master Data Pembelian","aria-label":"Text",class:"text-h5",rows:w.rows,flat:"",columns:w.columns,"row-key":"name",filter:w.filter,pagination:w.pagination},{top:(0,t.w5)((()=>[m,(0,t.Wm)(k),(0,t.Wm)(v,{flat:"",round:"",color:"primary",icon:"search",onClick:e[0]||(e[0]=a=>w.visibles=!w.visibles),size:"md",class:"q-mr-sm"}),(0,t.Wm)(A,null,{default:(0,t.w5)((()=>[(0,t.wy)((0,t._)("div",null,[(0,t.Wm)(W,{outlined:"",debounce:"300",placeholder:"Placeholder",style:{width:"300px"},color:"primary",modelValue:w.filter,"onUpdate:modelValue":e[1]||(e[1]=a=>w.filter=a),dense:""},null,8,["modelValue"])],512),[[s.F8,w.visibles]])])),_:1}),(0,t.Wm)(v,{dense:"",icon:"add",class:"q-ml-md q-pr-md",color:"blue-13",label:"Tambah Asset",to:{name:"asset_add_pp"},size:"md",outline:""})])),body:(0,t.w5)((a=>[(0,t.Wm)(T,{props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(P,{class:"text-center"},{default:(0,t.w5)((()=>[u])),_:1}),(0,t.Wm)(P,{key:"id_asset",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.row.id_asset),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"NamaAsset",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.row.NamaAsset),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"JenisAsset",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.row.JenisAsset),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"TanggalAsset",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.row.TanggalAsset),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"JumlahAsset",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.row.JumlahAsset),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"HargaAsset",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(this.$formatPrice(a.row.HargaAsset)),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"Total",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(this.$formatPrice(a.row.Total)),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"Status",props:a},{default:(0,t.w5)((()=>[(0,t.Uk)((0,i.zw)(a.row.Status),1)])),_:2},1032,["props"]),(0,t.Wm)(P,{key:"aksi",props:a},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{round:"",outline:"",color:"red",onClick:e=>this.delete(a.row._id),size:"sm",icon:"delete","no-caps":"",class:"q-ml-sm"},null,8,["onClick"]),(0,t.Wm)(v,{round:"",outline:"",color:"green",size:"sm",icon:"edit",to:{name:"edit_asset_pp",params:{id:a.row._id}},class:"q-ml-sm","no-caps":""},null,8,["to"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["table-style","rows","columns","filter","pagination"])])),_:1})])),_:1})])),_:1})]),(0,t.Wm)(z,{modelValue:w.detail.visible,"onUpdate:modelValue":e[2]||(e[2]=a=>w.detail.visible=a)},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[c,(0,t._)("p",p,[(0,t.Uk)("supplier: "),(0,t._)("b",null,(0,i.zw)(w.detail.namaBarang),1)])])),_:1}),(0,t.Wm)(Q),(0,t.Wm)(Z,{style:{"max-height":"50vh"},class:"scroll"},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{rows:w.detail.rows,"row-key":"name",flat:"",columns:w.detail.columns,"hide-pagination":!0},null,8,["rows","columns"])])),_:1}),(0,t.Wm)(Q),(0,t.Wm)(Z,null,{default:(0,t.w5)((()=>[(0,t._)("div",g,[f,(0,t.Uk)((0,i.zw)(this.$formatPrice(w.detail.grandTotal)),1)])])),_:1}),(0,t.Wm)($,{align:"right"},{default:(0,t.w5)((()=>[(0,t.wy)((0,t.Wm)(v,{flat:"",label:"Ok",color:"primary"},null,512),[[x]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])])])),_:1})}var h=l(4825);const b={name:"PageIndex",components:{"vue3-autocounter":h.Z},data(){return{visibles:!1,filter:null,totalHutang:0,totalLunas:0,pagination:{rowsPerPage:10},columns:[{name:"no",label:"No",field:"no"},{name:"id_asset",required:!0,label:"ID Asset",align:"left",field:"id_asset",sortable:!0},{name:"NamaAsset",required:!0,label:"Nama Asset",align:"left",field:"NamaAsset",sortable:!0},{name:"JenisAsset",required:!0,label:"Jenis Asset",align:"left",field:"JenisAsset",sortable:!0},{name:"TanggalAsset",required:!0,label:"Tanggal Asset",align:"left",field:"TanggalAsset",sortable:!0},{name:"JumlahAsset",required:!0,label:"Jumlah",align:"left",field:"JumlahAsset",sortable:!0},{name:"HargaAsset",required:!0,label:"Harga",align:"left",field:"HargaAsset",sortable:!0},{name:"Total",required:!0,label:"Total",align:"left",field:"Total",sortable:!0},{name:"Status",required:!0,label:"Status",align:"left",field:"Status",sortable:!0},{name:"aksi",label:"Actions",field:"aksi",align:"center"}],rows:[],detail:{visible:!1,grandTotal:null,columns:[{name:"idPengeluaran",required:!0,label:"ID Pengeluaran",align:"left",field:"idPengeluaran",sortable:!0},{name:"namaBarang",required:!0,label:"Barang",align:"left",field:"namaBarang",sortable:!0},{name:"hargaBarang",required:!0,label:"Harga Barang",align:"left",field:"hargaBarang",sortable:!0},{name:"jumlahPengeluaran",required:!0,label:"Jumlah Pengeluaran",align:"left",field:"jumlahPengeluaran",sortable:!0},{name:"total",required:!0,label:"Total",align:"left",field:"total",sortable:!0},{name:"grandTotal",required:!0,label:"Grand Total",align:"left",field:"grandTotal",sortable:!0}],rows:[]}}},created(){this.getPembelian()},methods:{getPembelian(){try{this.$api.get("asset_pp/view_asset").then((a=>{if(!0!==a.data.status)this.$showNotif(a.data.message,"negative");else{const e=a.data.result;this.rows=e.reverse()}}))}catch(a){this.$showNotif("Terjadi kesalahan !","negative")}},showDetail(a,e){try{this.$api.get("pengeluaran/detail/"+a).then((a=>{!0!==a.data.status?this.$showNotif(a.data.message,"negative"):(this.detail.rows=a.data.result.map((a=>({_id:a._id,objectIdPegeluaran:a.objectIdPengeluaran,idPengeluaran:a.idPengeluaran,namaBarang:a.namaBarang,hargaBarang:this.$formatPrice(a.hargaBarang),jumlahPengeluaran:a.jumlahPengeluaran,total:this.$formatPrice(a.total)}))),this.detail.grandTotal=e,this.detail.visible=!0)})),this.detail.visible=!0}catch(l){console.log(l),this.$showNotif("Terjadi kesalahan !","negative")}},delete(a){this.$dialog.create({title:"Peringatan",message:"Apakah Anda Yakin ?",cancel:!0,persistent:!0}).onOk((()=>{try{this.$api.delete("/asset_pp/delete_asset/"+a).then((a=>{!0!==a.data.status?this.$showNotif(a.data.message,"negative"):(this.totalLunas=0,this.totalHutang=0,this.getPembelian(),this.$showNotif(a.data.message,"positive"))}))}catch(e){console.log(e),this.$showNotif("Terjadi kesalahan !","negative")}}))}}};var _=l(1639),q=l(9885),k=l(4458),v=l(2605),W=l(8052),A=l(3190),P=l(2857),T=l(1463),y=l(136),Z=l(8879),Q=l(9003),$=l(3119),z=l(3532),B=l(7220),x=l(2074),N=l(926),U=l(1821),C=l(2146),J=l(9984),j=l.n(J);const D=(0,_.Z)(b,[["render",w],["__scopeId","data-v-2420ae00"]]),S=D;j()(b,"components",{QPage:q.Z,QCard:k.Z,QBreadcrumbs:v.Z,QBreadcrumbsEl:W.Z,QCardSection:A.Z,QIcon:P.Z,QTable:T.Z,QSpace:y.Z,QBtn:Z.Z,QSlideTransition:Q.Z,QInput:$.Z,QTr:z.Z,QTd:B.Z,QDialog:x.Z,QSeparator:N.Z,QCardActions:U.Z}),j()(b,"directives",{ClosePopup:C.Z})}}]);